{"version":3,"file":"reducer.js","sources":["../src/reducer.ts"],"sourcesContent":["import { ModalState } from './context';\n\ninterface ModalsState {\n  modals: ModalState[];\n  current: ModalState | null;\n}\n\ninterface OpenAction {\n  type: 'OPEN';\n  payload: ModalState;\n}\n\ninterface CloseAction {\n  type: 'CLOSE';\n  payload: string;\n}\n\ninterface CloseAllAction {\n  type: 'CLOSE_ALL';\n}\n\nexport function modalsReducer(\n  state: ModalsState,\n  action: OpenAction | CloseAction | CloseAllAction\n): ModalsState {\n  switch (action.type) {\n    case 'OPEN': {\n      return {\n        current: action.payload,\n        modals: [...state.modals, action.payload],\n      };\n    }\n    case 'CLOSE': {\n      const modals = state.modals.filter((m) => m.id !== action.payload);\n      return {\n        current: modals[modals.length - 1],\n        modals,\n      };\n    }\n    case 'CLOSE_ALL': {\n      return {\n        current: state.current,\n        modals: [],\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n}\n"],"names":[],"mappings":"AAAO,SAAS,aAAa,CAAC,KAAK,EAAE,MAAM,EAAE;AAC7C,EAAE,QAAQ,MAAM,CAAC,IAAI;AACrB,IAAI,KAAK,MAAM,EAAE;AACjB,MAAM,OAAO;AACb,QAAQ,OAAO,EAAE,MAAM,CAAC,OAAO;AAC/B,QAAQ,MAAM,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,OAAO,CAAC;AACjD,OAAO,CAAC;AACR,KAAK;AACL,IAAI,KAAK,OAAO,EAAE;AAClB,MAAM,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,OAAO,CAAC,CAAC;AACzE,MAAM,OAAO;AACb,QAAQ,OAAO,EAAE,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;AAC1C,QAAQ,MAAM;AACd,OAAO,CAAC;AACR,KAAK;AACL,IAAI,KAAK,WAAW,EAAE;AACtB,MAAM,OAAO;AACb,QAAQ,OAAO,EAAE,KAAK,CAAC,OAAO;AAC9B,QAAQ,MAAM,EAAE,EAAE;AAClB,OAAO,CAAC;AACR,KAAK;AACL,IAAI,SAAS;AACb,MAAM,OAAO,KAAK,CAAC;AACnB,KAAK;AACL,GAAG;AACH;;;;"}